---
export type Props = Record<string, never>;
---

<button
  id="back-to-top"
  aria-label="Back to top"
  class="bg-background text-foreground hover:bg-muted invisible fixed end-5 bottom-5 z-10 cursor-pointer rounded-full border p-2 opacity-0 shadow transition-all duration-300 ease-in-out"
>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
    class="size-5"
  >
    <path d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
  </svg>
</button>

<script>
  const backToTop = document.getElementById("back-to-top") as HTMLButtonElement;
  if (!backToTop) {
    throw new Error("Back to top button not found");
  }

  function toggleBackToTop() {
    if (window.scrollY > 300) {
      backToTop.classList.remove("opacity-0", "invisible");
      backToTop.classList.add("opacity-100", "visible");
    } else {
      backToTop.classList.add("opacity-0", "invisible");
      backToTop.classList.remove("opacity-100", "visible");
    }
  }

  function scrollToTop() {
    window.scrollTo({ top: 0, behavior: "smooth" });
  }

  window.addEventListener("scroll", toggleBackToTop);
  backToTop.addEventListener("click", scrollToTop);
</script>
